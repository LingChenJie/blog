####  进程优先级

Android 系统尽量长时间的保存应用进程，但为了新建进程或运行更重要的进程，需要清除旧进程 来回收内存。

为了确定保留和终止哪些进程，系统会根据进程中运行的组件以及这些组件的状态，将进程进行分级划分。当内存吃紧时，会回收一些重要性较低的一些进程。



进程的重要性，分为 5 个级别：

1. 前台进程 (Foreground process)
2. 可见进程 (Visible process)
3. 服务进程 (Service process)
4. 后台进程 (Background process)
5. 空进程 (Empty process)



####  前台进程

满足以下任一条件都是前台进程：

1. 拥有正在和用户交互的 Activity （已调用 onResume 方法），
2. 拥有一个正在执行生命周期的 Service (正在调用 onCreate、onStart 或 onDestory 方法)，
3. 拥有正在执行 onReceive 方法的 BroadcastReceiver.



前台进程是用户当前操作所必需的进程。

系统中只有少数此类进程，只有在内存不足以支持继续运行，系统才会终止它们。



####  可见进程

满足以下任一条件都是可见进程：

1. 拥有不在前台、但仍对用户可见的 Activity（已调用 `onPause()`），
2. 拥有一个 `Service` ，并通过 `Service.startForeground()` 作为前台服务运行。



正在进行用户当前知晓的任务，因此终止该进程会对用户体验造成明显的负面影响。



####  服务进程

拥有一个已使用 `startService()` 方法启动的 `Service`

虽然用户无法直接看到这些进程，但它们通常正在执行用户关心的任务（例如后台网络数据上传或下载），因此系统会始终使此类进程保持运行，除非没有足够的内存来保留所有前台和可见进程



####  后台进程

对用户不可见的 Activity 的进程（已调用 `Activity 的 onStop()` 方法）



后台进程对用户体验没有直接影响，系统可能随时终止它们，以回收内存供前台进程、可见进程或服务进程使用。 

通常会有很多后台进程在运行，因此它们会保存在 LRU 列表中，以确保包含用户最近查看的 `Activity` 的进程最后一个被终止。如果某个 Activity 正确实现了生命周期方法，并保存了其当前状态，则终止其进程不会对用户体验产生明显影响，因为当用户导航回该 Activity 时，Activity 会恢复其所有可见状态。



####  空进程

不含任何活动应用组件的进程。

系统往往会终止这些进程。

































